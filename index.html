<!DOCTYPE html>
<head>
  <title>鉄道安全運行システム</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Teko:wght@600&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DotGothic16&family=Teko:wght@600&display=swap" rel="stylesheet">
  <style>
    body{
      background-color: black;
    }
  #font_1 {
    font-family: 'Teko', sans-serif;
    color: white;
  }
  #font_2{
    font-family: 'DotGothic16', sans-serif;
    color: white;
  }
  .btn--orange,
  a.btn--orange {
  color: #fff;
  background-color: #eb6100;
  }
  .btn--orange:hover,
    a.btn--orange:hover {
      color: #fff;
      background: #f56500;
    }
  
.btn,
a.btn,
button.btn {
  font-size: 1.6rem;
  font-weight: 700;
  line-height: 1.5;
  position: relative;
  display: inline-block;
  padding: 0.3rem 1rem;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-transition: all 0.3s;
  transition: all 0.3s;
  text-align: center;
  vertical-align: middle;
  text-decoration: none;
  letter-spacing: 0.1em;
  color: #212529;
  border-radius: 0.5rem;
}
    #second_content{
      display: none;
    }
  </style>
</head>
<body>
  <style>
    #click-btn {
  display: block;
  margin: 20px auto;
  background-color: purple;
  color: white;
  border: 0;
  padding: 6px 10px;
}

#popup-wrapper {
  background-color: rgba(0, 0, 0, .5);
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: none;
}

#popup-inside {
  text-align: center;
  width: 100%;
  max-width: 300px;
  background: white;
  margin: 10% auto;
  padding: 20px;
  position: relative;
}

#message a {
  background: purple;
  color: white;
  text-decoration: none;
  padding: 6px 10px;
}

#close {
  position: absolute;
  top: 0;
  right: 5px;
  cursor: pointer;
}

  </style>
  <div id="popup-wrapper" style="z-index:10000">
    <div id="popup-inside" style="width:50%; height:30%;">
      <div id="close">x</div>
      <div id="message">
        <div style="background-color: red;">
        <h2 style="white">情報/INFOMATION</h2>
        </div>
        <p id="info_coment"></p>
      </div>
    </div>
  </div>
  <script>
  </script>
  <div id="second_content">
  <div id="font_2">
    <div style="display: flex; justify-content: right;">
  <p id="car_num" style="font-size: 35px; margin:0px;"></p>
      <button onclick="carnumber(12,12)" style="background-color:darkblue; color:white; height:30px; margin-top:13px;">変更する</button>
    </div>
    <p id="kind_element"></p>
    <p id="u_or_d_element"></p>
    <table id="car_table" style="text-align: center;" border="1">
      <thead>
        <tr>
          <th>駅名</th>
          <th>着時刻</th>
          <th>発時刻</th>
          <th>発着番線</th>
        </tr>
      </thead>
      <tbody id="tbody_1">
        <tr>
          <td id="sta_name1"></td>
          <td id="sta_a1"></td>
          <td id="sta_d1"></td>
          <td id="sta_track1"></td>
        </tr>
        <tr>
          <td id="sta_name2"></td>
          <td id="sta_a2"></td>
          <td id="sta_d2"></td>
          <td id="sta_track2"></td>
        </tr>
        <tr>
          <td id="sta_name3"></td>
          <td id="sta_a3"></td>
          <td id="sta_d3"></td>
          <td id="sta_track3"></td>
        </tr>
        <tr>
          <td id="sta_name4"></td>
          <td id="sta_a4"></td>
          <td id="sta_d4"></td>
          <td id="sta_track4"></td>
        </tr>
        <tr>
          <td id="sta_name5"></td>
          <td id="sta_a5"></td>
          <td id="sta_d5"></td>
          <td id="sta_track5"></td>
        </tr>
        <tr>
          <td id="sta_name6"></td>
          <td id="sta_a6"></td>
          <td id="sta_d6"></td>
          <td id="sta_track6"></td>
        </tr>
        <tr>
          <td id="sta_name7"></td>
          <td id="sta_a7"></td>
          <td id="sta_d7"></td>
          <td id="sta_track7"></td>
        </tr>
        <tr>
          <td id="sta_name8"></td>
          <td id="sta_a8"></td>
          <td id="sta_d8"></td>
          <td id="sta_track8"></td>
        </tr>
        <tr>
          <td id="sta_name9"></td>
          <td id="sta_a9"></td>
          <td id="sta_d9"></td>
          <td id="sta_track9"></td>
        </tr>
        <tr>
          <td id="sta_name10"></td>
          <td id="sta_a10"></td>
          <td id="sta_d10"></td>
          <td id="sta_track10"></td>
        </tr>
        <tr>
          <td id="sta_name11"></td>
          <td id="sta_a11"></td>
          <td id="sta_d11"></td>
          <td id="sta_track11"></td>
        </tr>
        <tr>
          <td id="sta_name12"></td>
          <td id="sta_a12"></td>
          <td id="sta_d12"></td>
          <td id="sta_track12"></td>
        </tr>
        <tr>
          <td id="sta_name13"></td>
          <td id="sta_a13"></td>
          <td id="sta_d13"></td>
          <td id="sta_track13"></td>
        </tr>
        <tr>
          <td id="sta_name14"></td>
          <td id="sta_a14"></td>
          <td id="sta_d14"></td>
          <td id="sta_track14"></td>
        </tr>
        <tr>
          <td id="sta_name15"></td>
          <td id="sta_a15"></td>
          <td id="sta_d15"></td>
          <td id="sta_track15"></td>
        </tr>
      </tbody>
    </table>
  </div>
  </div>
  <div id="first_content">
  <div id="font_1" style="display: flex;">
  <p id="font_2" style="font-size: 30px;">列番：</p>
  <p id="car_num_1" style="font-size: 30px;"></p>
  <p id="car_num_2" style="font-size: 30px;"></p>
  <p id="car_num_3" style="font-size: 30px;"></p>
  <p id="car_num_4" style="font-size: 30px;"></p>
  <p id="car_num_5" style="font-size: 30px;"></p>
  <p id="car_num_6" style="font-size: 30px;"></p>
  </div>
  <div>
  <a href="#" class="btn btn--orange" id="button_num_1" onclick="carnumber(1,1)">1</a>
  <a href="#" class="btn btn--orange" id="button_num_2" onclick="carnumber(2,2)">2</a>
  <a href="#" class="btn btn--orange" id="button_num_3" onclick="carnumber(3,3)">3</a>
  <a href="#" class="btn btn--orange" id="button_num_3" onclick="carnumber(0,'O')">O</a>
  <a href="#" class="btn btn--orange" id="button_num_3" onclick="carnumber(0,'L')">L</a>
  </div>
  <div>
  <a href="#" class="btn btn--orange" id="button_num_4" onclick="carnumber(4,4)">4</a>
  <a href="#" class="btn btn--orange" id="button_num_5" onclick="carnumber(5,5)">5</a>
  <a href="#" class="btn btn--orange" id="button_num_6" onclick="carnumber(6,6)">6</a>
  <a href="#" class="btn btn--orange" id="button_num_3" onclick="carnumber(0,'R')">R</a>
  <a href="#" class="btn btn--orange" id="button_num_10" onclick="carnumber(10,10)">←</a>
  </div>
  <div>
  <a href="#" class="btn btn--orange" id="button_num_7" onclick="carnumber(7,7)">7</a>
  <a href="#" class="btn btn--orange" id="button_num_8" onclick="carnumber(8,8)">8</a>
  <a href="#" class="btn btn--orange" id="button_num_9" onclick="carnumber(9,9)">9</a>
  <a href="#" class="btn btn--orange" id="button_num_3" onclick="carnumber(1,0)">0</a>
  <a href="#" class="btn btn--orange" id="button_num_3" onclick="carnumber(0,'S')">S</a>
  <a href="#" class="btn btn--orange" id="button_num_10" onclick="carnumber(11,11)">→</a>
  </div>
  </div>
  <script>
    function carnumber(k,num){
      var car1 = document.getElementById("car_num_1");
      var car2 = document.getElementById("car_num_2");
      var car3 = document.getElementById("car_num_3");
      var car4 = document.getElementById("car_num_4");
      var car5 = document.getElementById("car_num_5");
      var car6 = document.getElementById("car_num_6");
      var car_num = document.getElementById("car_num");
      var first_content = document.getElementById("first_content");
      var second_content = document.getElementById("second_content");
      console.log(car1)
      console.log(car2)
      console.log(car3)
      console.log(car4)
      console.log(car5)
      var car1_text = car1.textContent;
      var car2_text = car2.textContent;
      var car3_text = car3.textContent;
      var car4_text = car4.textContent;
      var car5_text = car5.textContent;
      var car6_text = car6.textContent;
      console.log(car1_text)
      console.log(car2_text)
      console.log(car3_text)
      console.log(car4_text)
      console.log(car5_text)
      if(k < 10){
      if(k === 0){
        if(car1_text === ""){
        car1.innerHTML = num;
        }
      }else if (car1_text === ""){
        car1.innerHTML = num;
      }else if (car2_text === ""){
        car2.innerHTML = num;
      }else if (car3_text === ""){
        car3.innerHTML = num;
      }else if (car4_text === ""){
        car4.innerHTML = num;
      }else if (car5_text === ""){
        car5.innerHTML = num;
      }else if (car6_text === ""){
        car6.innerHTML = num;
      }
      }else if(k === 10){
        if(car6_text === ""){
        if (car5_text === ""){
          if(car4_text === ""){
            if(car3_text === ""){
              if(car2_text === ""){
                if(car1_text === ""){
                  //
                }else{
                  car1.innerHTML = "";
                }
              }else{
                car2.innerHTML = "";
              }
            }else{
              car3.innerHTML = "";
            }
          }else{
            car4.innerHTML = "";
          }
      }else{
        car5.innerHTML = "";
      }
        }else{
          car6.innerHTML = "";
        }
      }else if(k === 11){
        if(!(car1_text === "") && !(car2_text === "") && !(car3_text === "") && !(car4_text === "") && !(car5_text === "") && !(car6_text === "")){
          first_content.style.display ="none";
          car_num.innerHTML = "列番：" + car1_text + car2_text + car3_text + car4_text + car5_text + car6_text;
          var car_num_send = car1_text + car2_text + car3_text + car4_text + car5_text + car6_text;
          second_content.style.display ="block";
          monitor(car_num_send);
        }
      }else if(k === 12){
        car1.innerHTML = "";
        car2.innerHTML = "";
        car3.innerHTML = "";
        car4.innerHTML = "";
        car5.innerHTML = "";
        car6.innerHTML = "";
        for(var remove_table = 1;remove_table < 16;remove_table++){
          var remove_table1 = "sta_name" + remove_table;
          var remove_table2 = "sta_a" + remove_table;
          var remove_table3 = "sta_d" + remove_table;
          var remove_table4 = "sta_track" + remove_table;
          document.getElementById(remove_table1).innerHTML = "";
          document.getElementById(remove_table2).innerHTML = "";
          document.getElementById(remove_table3).innerHTML = "";
          document.getElementById(remove_table4).innerHTML = "";
        first_content.style.display ="block";
          second_content.style.display ="none";
        }
        }
      }
    function monitor(car_num){
      var stations = ["品川", "やもかいり", "海島", "海の山新都心", "神代", "旧海道", "新海道", "海道", "船港", "先十", "鳥の島", "北鳥", "上新庄", "海洋", "宮吉"]
      var stations_s_or_f = ["品川", "やもかいり", "海道", "船港", "鳥の島", "宮吉"]
      var car_kind = car_num.slice(0,1);
      var car_sta_s = car_num.slice(1,2);
      var car_sta_f = car_num.slice(2,3);
      var car_time_s_h = car_num.slice(3,5);
      var car_time_s_m = car_num.slice(5,6);
      var kind_element = document.getElementById("kind_element");
      var u_or_d_element = document.getElementById("u_or_d_element");
      var station_s;
      var station_f;
      var sta_num;
      var stop_station = "";
      var stop_sta_num = "0";
      console.log("種類：" + car_kind);
      console.log("発駅番号：" + car_sta_s);
      console.log("終駅番号：" + car_sta_f);
      console.log("発車時刻(hour)：" + car_time_s_h);
      console.log("発車時刻(minute)：" + car_time_s_m);
      if(car_kind === "O"){
        kind_element.innerHTML = "普通";
      }else if(car_kind === "R"){
        kind_element.innerHTML = "快速";
      }else if(car_kind === "S"){
        kind_element.innerHTML = "通勤快速";
      }else if(car_kind === "L"){
        kind_element.innerHTML = "特急";
      }
      if(car_sta_s < car_sta_f){
        u_or_d_element.innerHTML = "下り";
      }else if(car_sta_s > car_sta_f){
        u_or_d_element.innerHTML = "上り";
      }else if(car_sta_s = car_sta_f){
        u_or_d_element.innerHTML = "営終";
      }
      if(car_sta_s < 7){
        station_s = stations_s_or_f[car_sta_s-1];
        console.log('始発駅：' + station_s);
        if (car_sta_s === "1" && car_sta_s === "2" && car_sta_s === "3"){
          //変更しない
        }else if (car_sta_s === "4"){
          car_sta_s = 9;
        }else if (car_sta_s === "5"){
          car_sta_s = 11;
        }else if (car_sta_s === "6"){
          car_sta_s = 15;
        }
      }
      if(car_sta_f < 7){
        station_f = stations_s_or_f[car_sta_f-1];
        console.log('終着駅：' + station_f);
        if (car_sta_f === "1" && car_sta_f === "2" && car_sta_f === "3"){
          //変更しない
        }else if (car_sta_f === "4"){
          car_sta_f = 9;
        }else if (car_sta_f === "5"){
          car_sta_f = 11;
        }else if (car_sta_f === "6"){
          car_sta_f = 15;
        }
      }
      if(car_sta_s > car_sta_f){
        sta_num = car_sta_s-car_sta_f;
        console.log(sta_num);
      for (var u = 0;u<sta_num;u++){
        stop_sta_num = car_sta_f + u-9;
      console.log(car_sta_s)
      console.log(car_sta_f)
        console.log("ステーション番号："+stop_sta_num);
        stop_station = stations[stop_sta_num];
        console.log('停車駅：' + stop_station);
        console.log('回数：' + u);
      }
      }else if(car_sta_s < car_sta_f){
        sta_num = parseInt(car_sta_f)-parseInt(car_sta_s)+1;
        console.log(sta_num);
        // JSONデータを取得する外部URL
        var jsonUrl = 'https://script.google.com/macros/s/AKfycbzwMCw5lv8dQatrA_tj5OSh0udMeqgJIyKo8XrXJEyeuOlxfIs6KmRnq88fk-PYzT71/exec'; // 実際のURLに置き換えてください

        // JSONデータを取得
        fetch(jsonUrl)
          .then(response => response.json())
          .then(data => {
            // ループを使用して car_num を検索
            var sta_a = [];
            var sta_d = [];
            var sta_a1,sta_d1,sta_a2,sta_d2,sta_a3,sta_d3,sta_a4,stad_4,sta_a5,sta_d5,sta_a6,sta_d6,sta_a7,sta_d7,sta_a8,sta_d8,sta_a9,sta_d9,sta_a10,sta_d10,sta_a11,sta_d11,sta_a12,sta_d12,sta_a13,sta_d13,sta_a14,sta_d14,sta_a15,sta_d15 = null;
        for (var i = 0; i < data.length; i++) {
              if (data[i].car_nums === car_num) {
                for (var sta_a_or_d = 1; sta_a_or_d < 17; sta_a_or_d++){
                  if(sta_a_or_d === 1){
                    //
                    console.log('1-a-and-d')
                    sta_a[sta_a_or_d] = data[i].time_a1;
                    sta_d[sta_a_or_d] = data[i].time_d1;
                  }else if(sta_a_or_d === 2){
                    //
                    sta_a[sta_a_or_d] = data[i].time_a2;
                    sta_d[sta_a_or_d] = data[i].time_d2;
                  }else if(sta_a_or_d === 3){
                    //
                    sta_a[sta_a_or_d] = data[i].time_a3;
                    sta_d[sta_a_or_d] = data[i].time_d3;
                  }else if(sta_a_or_d === 4){
                    //
                    sta_a[sta_a_or_d] = data[i].time_a4;
                    sta_d[sta_a_or_d] = data[i].time_d4;
                  }else if(sta_a_or_d === 5){
                    //
                    sta_a[sta_a_or_d] = data[i].time_a5;
                    sta_d[sta_a_or_d] = data[i].time_d5;
                  }else if(sta_a_or_d === 6){
                    //
                    sta_a[sta_a_or_d] = data[i].time_a6;
                    sta_d[sta_a_or_d] = data[i].time_d6;
                  }else if(sta_a_or_d === 7){
                    //
                    sta_a[sta_a_or_d] = data[i].time_a7;
                    sta_d[sta_a_or_d] = data[i].time_d7;
                  }else if(sta_a_or_d === 8){
                    //
                    sta_a[sta_a_or_d] = data[i].time_a8;
                    sta_d[sta_a_or_d] = data[i].time_d8;
                  }else if(sta_a_or_d === 9){
                    //
                    sta_a[sta_a_or_d] = data[i].time_a9;
                    sta_d[sta_a_or_d] = data[i].time_d9;
                  }else if(sta_a_or_d === 10){
                    //
                    sta_a[sta_a_or_d] = data[i].time_a10;
                    sta_d[sta_a_or_d] = data[i].time_d10;
                  }else if(sta_a_or_d === 11){
                    //
                    sta_a[sta_a_or_d] = data[i].time_a11;
                    sta_d[sta_a_or_d] = data[i].time_d11;
                  }else if(sta_a_or_d === 12){
                    //
                    sta_a[sta_a_or_d] = data[i].time_a12;
                    sta_d[sta_a_or_d] = data[i].time_d12;
                  }else if(sta_a_or_d === 13){
                    //
                    sta_a[sta_a_or_d] = data[i].time_a13;
                    sta_d[sta_a_or_d] = data[i].time_d13;
                  }else if(sta_a_or_d === 14){
                    //
                    sta_a[sta_a_or_d] = data[i].time_a14;
                    sta_d[sta_a_or_d] = data[i].time_d14;
                  }else if(sta_a_or_d === 15){
                    //
                    sta_a[sta_a_or_d] = data[i].time_a15;
                    sta_d[sta_a_or_d] = data[i].time_d15;
                  }
              }
                // 結果を確認
                for (var time_a_d = 1; time_a_d<16; time_a_d++){
                  var car_sta_f_num = document.getElementById("car_num_3").textContent;
                  console.log(car_sta_f_num);
                if(car_sta_f_num === "3"){
              console.log('Car found:');
                    var table_sta_element_s = "sta_a" + time_a_d;
                    var table_sta_element_d = "sta_d" + time_a_d;
                  if(time_a_d > 8){
                    sta_a[sta_a_or_d] = sta_a[time_a_d]
                    document.getElementById(table_sta_element_s).textContent = sta_a[sta_a_or_d]
                  }else{
              var jstDate_2 = new Date(new Date(sta_d[time_a_d]).getTime() + (9 * 60 * 60 * 1000));

              // 時刻部分を取得
              var hours_2 = jstDate_2.getUTCHours();
              var minutes_2 = jstDate_2.getUTCMinutes();
              var seconds_2 = jstDate_2.getUTCSeconds();
              sta_d[sta_a_or_d] = hours_2.toString().padStart(2, '0') + ':' + minutes_2.toString().padStart(2, '0') + ':' + seconds_2.toString().padStart(2, '0');
                    document.getElementById(table_sta_element_d).textContent = sta_d[sta_a_or_d]
              var jstDate_1 = new Date(new Date(sta_a[time_a_d]).getTime() + (9 * 60 * 60 * 1000));

              // 時刻部分を取得
              var hours_1 = jstDate_1.getUTCHours();
              var minutes_1 = jstDate_1.getUTCMinutes();
              var seconds_1 = jstDate_1.getUTCSeconds();
              sta_a[sta_a_or_d] = hours_1.toString().padStart(2, '0') + ':' + minutes_1.toString().padStart(2, '0') + ':' + seconds_1.toString().padStart(2, '0');
                    document.getElementById(table_sta_element_s).textContent = sta_a[sta_a_or_d]
                  }if(time_a_d > 7){
                    sta_d[sta_a_or_d] = sta_d[time_a_d]
                    document.getElementById(table_sta_element_d).textContent = sta_d[sta_a_or_d]
                  }
                }else if(car_sta_f_num === "6"){
              console.log('Car found:');
                    var table_sta_element_s = "sta_a" + time_a_d;
                    var table_sta_element_d = "sta_d" + time_a_d;
                  console.log("ID(S):" + table_sta_element_s);
                  console.log("ID(D):" + table_sta_element_d);
                  if(time_a_d === 1){
                    sta_a[sta_a_or_d] = sta_a[time_a_d]
                    document.getElementById(table_sta_element_s).textContent = sta_a[sta_a_or_d]
              var jstDate_2 = new Date(new Date(sta_d[time_a_d]).getTime() + (9 * 60 * 60 * 1000));

              // 時刻部分を取得
              var hours_2 = jstDate_2.getUTCHours();
              var minutes_2 = jstDate_2.getUTCMinutes();
              var seconds_2 = jstDate_2.getUTCSeconds();
              sta_d[sta_a_or_d] = hours_2.toString().padStart(2, '0') + ':' + minutes_2.toString().padStart(2, '0') + ':' + seconds_2.toString().padStart(2, '0');
                    document.getElementById(table_sta_element_d).textContent = sta_d[sta_a_or_d]
                  }else{
              var jstDate_2 = new Date(new Date(sta_d[time_a_d]).getTime() + (9 * 60 * 60 * 1000));

              // 時刻部分を取得
              var hours_2 = jstDate_2.getUTCHours();
              var minutes_2 = jstDate_2.getUTCMinutes();
              var seconds_2 = jstDate_2.getUTCSeconds();
              sta_d[sta_a_or_d] = hours_2.toString().padStart(2, '0') + ':' + minutes_2.toString().padStart(2, '0') + ':' + seconds_2.toString().padStart(2, '0');
                    document.getElementById(table_sta_element_d).textContent = sta_d[sta_a_or_d]
              var jstDate_1 = new Date(new Date(sta_a[time_a_d]).getTime() + (9 * 60 * 60 * 1000));

              // 時刻部分を取得
              var hours_1 = jstDate_1.getUTCHours();
              var minutes_1 = jstDate_1.getUTCMinutes();
              var seconds_1 = jstDate_1.getUTCSeconds();
              sta_a[sta_a_or_d] = hours_1.toString().padStart(2, '0') + ':' + minutes_1.toString().padStart(2, '0') + ':' + seconds_1.toString().padStart(2, '0');
                    document.getElementById(table_sta_element_s).textContent = sta_a[sta_a_or_d]
                  }if(time_a_d === 15){
                    sta_d[sta_a_or_d] = sta_d[time_a_d]
                    document.getElementById(table_sta_element_d).textContent = sta_d[sta_a_or_d]
                  }
                }
              // フォーマットされた時刻を作成
            console.log('駅(着)：' + sta_a[sta_a_or_d] + ' 駅(発)：' + sta_d[sta_a_or_d])
              //
          }
                break; // 一致するものが見つかったらループを終了
             }else if(i+1 === data.length){
                console.log("列番の間違えあり")
                const clickBtn = document.getElementById('click-btn');
                const popupWrapper = document.getElementById('popup-wrapper');
                const close = document.getElementById('close');

                popupWrapper.style.display = "block";
                document.getElementById('info_coment').innerHTML = "列車番号に誤りがありました。\n列番："+ car_num + "\nErrorNumber:E0001"

                // ポップアップの外側又は「x」のマークをクリックしたときポップアップを閉じる
                popupWrapper.addEventListener('click', e => {
                  if (e.target.id === popupWrapper.id || e.target.id === close.id) {
                    popupWrapper.style.display = 'none';
                  }
                });
                const error_num_audio = new Audio('./audio/erorr_num.mp3');
                error_num_audio.currentTime = 0;
                error_num_audio.play();

             }
          }
          })
          .catch(error => {
            console.error('Error fetching JSON data:', error);
          });
      for (var d = 0;d < sta_num;d++){
        console.log("ステーション番号："+stop_sta_num);
        stop_sta_num = parseInt(car_sta_s) + parseInt(d)-1;
      console.log(car_sta_s)
      console.log(car_sta_f)
        stop_station = stations[stop_sta_num];
        document.getElementById("sta_name" + (stop_sta_num+1)).textContent = stop_station;
        if(stop_sta_num+1 === 1){
          if(car_time_s_m === "1"||car_time_s_m === "3"){
            if(car_time_s_m === "1"){
              document.getElementById("sta_track" + (stop_sta_num+1)).textContent = "4";
            }else{
              document.getElementById("sta_track" + (stop_sta_num+1)).textContent = "3";
            }
          }else if(car_time_s_m === 2||car_time_s_m === 6){
            if(car_time_s_m === "2"){
              document.getElementById("sta_track" + (stop_sta_num+1)).textContent = "2";
            }else{
              document.getElementById("sta_track" + (stop_sta_num+1)).textContent = "1";
            }
          }
        }else if(stop_sta_num+1 === 2||stop_sta_num+1 === 9||stop_sta_num+1 === 11){
          if(car_time_s_m === "4"){
              document.getElementById("sta_track" + (stop_sta_num+1)).textContent = "1";
            }else{
              document.getElementById("sta_track" + (stop_sta_num+1)).textContent = "2";
            }
        }else if(stop_sta_num+1 >= 3 && stop_sta_num+1 <=8){
        document.getElementById("sta_track" + (stop_sta_num+1)).textContent = "1";
        }else if(stop_sta_num+1 === 9||stop_sta_num+1 === 10||stop_sta_num+1 === 12||stop_sta_num+1 === 13||stop_sta_num+1 === 14){
        document.getElementById("sta_track" + (stop_sta_num+1)).textContent = "1";
        }else if(stop_sta_num+1 === 15){
          if(car_time_s_m === "1"){
              document.getElementById("sta_track" + (stop_sta_num+1)).textContent = "1";
            }else if(car_time_s_m === "2"){
              document.getElementById("sta_track" + (stop_sta_num+1)).textContent = "3";
            }else if(car_time_s_m === "3"){
              document.getElementById("sta_track" + (stop_sta_num+1)).textContent = "4";
            }else if(car_time_s_m === "4"){
              document.getElementById("sta_track" + (stop_sta_num+1)).textContent = "8";
            }else if(car_time_s_m === "5"){
              document.getElementById("sta_track" + (stop_sta_num+1)).textContent = "5";
            }
        }if(stop_sta_num+1 >= 9 && car_time_s_m === "6"){
              document.getElementById("sta_track" + (stop_sta_num+1)).textContent = "番線未定";
        }
        console.log('停車駅：' + stop_station);
        console.log('回数：' + d);
      }
      }
    }
  </script>
</body>
</html>
